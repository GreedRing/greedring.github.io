<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  
  <title>Java基础20 - Greed Ring</title>
  <meta charset="UTF-8">
  <meta name="description" content>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/favicon.png" type="image/png">
  <meta name="description" content="day20">
<meta name="keywords" content="Java基础">
<meta property="og:type" content="article">
<meta property="og:title" content="Java基础20">
<meta property="og:url" content="http://greedring.com/2019/09/17/JavaBasics20/index.html">
<meta property="og:site_name" content="Greed Ring">
<meta property="og:description" content="day20">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-19T09:44:41.289Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java基础20">
<meta name="twitter:description" content="day20">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.15.8/styles/atom-one-dark.css">
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1568886473432">
<link rel="stylesheet" href="\assets\css\APlayer.min.css" class="aplayer-style-marker">
<script src="\assets\js\APlayer.min.js" class="aplayer-script-marker"></script>
<script src="\assets\js\Meting.min.js" class="meting-script-marker"></script>
</head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://i.loli.net/2019/08/22/IxAp3mfcJWbzaFU.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="GreedRing" class="mdui-btn mdui-btn-icon"><img src="/images/avatar.png"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="GreedRing">
            <img src="/images/avatar.png" alt="GreedRing">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>26</div>
        <div><span>标签</span>3</div>
        <div><span>分类</span>2</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/friends.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">社交按钮</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/15144854" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/greedring/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章分类</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Java/">Java</a>
          <span class="category-list-count">24</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/设计模式/">设计模式</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">标签云</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/Java基础/" style="font-size: 20px;">Java基础</a> <a href="/tags/Java基础练习/" style="font-size: 15px;">Java基础练习</a> <a href="/tags/桥接模式/" style="font-size: 10px;">桥接模式</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章归档</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li></ul>
    </div>
  </div>


  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2019 GreedRing
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
    <div class="nexmoe-post-cover"> 
        
        <img src="https://i.loli.net/2019/08/25/qjVyadYDSXgeC9A.jpg">
        
        <h1>Java基础20</h1>
    </div>
  <div class="nexmoe-post-meta">
    <a><i class="nexmoefont icon-calendar-fill"></i>2019年09月17日</a>
    <a><i class="nexmoefont icon-areachart"></i>2k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 9 分钟</a>
    
      <a class="nexmoefont icon-appstore-fill -link" href="/categories/Java/">Java</a>
    
    
      <a class="nexmoefont icon-tag-fill -link" href="/tags/Java基础/">Java基础</a>
    
  </div>
  <article>
    <p>day20</p>
<a id="more"></a>


    <div id="aplayer-kHvwAUZN" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="27580979" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"></div>

<h2 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h2><p>用来处理设备间的数据传输，Java对数据的操作是通过流的方式，Java用于操作流的类都在IO包中</p>
<blockquote>
<p>流按流向分为：输入流、输出流<br>流按照操作内容分为：字节流、字符流</p>
</blockquote>
<h4 id="一-File类"><a href="#一-File类" class="headerlink" title="一.File类"></a>一.File类</h4><p>File文件和目录路径名的抽象表示形式<br>即：Java中把文件或者目录（文件夹）都封装成File类<br>也就是说如果我们要去操作硬盘上的文件,或者文件夹只要找到File这个类即可。</p>
<p><strong>1.文件路径</strong></p>
<blockquote>
<p>绝对路径：从盘符开始到文件的路径。D:\\code\\greedring\\day20.java [文件分隔符\\（转义）]<br>相对路径：从某个参照路径开始到指定文件所经过的路径。 相对于 D:\\code\\greedring，相对路径 day20.java</p>
</blockquote>
<p>&emsp;<strong>构造方法：</strong></p>
<ul>
<li>File(String pathname)<br>通过将给定的路径名的字符串转换成一个抽象路径名创建一个新的 File实例。</li>
<li>File(String parent, String child)<br>创建从父路径名的字符串和一个孩子的一个新的 File实例文件。</li>
<li>File(File parent, String child)<br>创建从一个家长的抽象路径名和一个孩子的路径字符串的新 File实例。</li>
</ul>
<p><strong>2.文件分割符</strong><br>Windows: <br>Unix(Linux、Mac OS): /</p>
<blockquote>
<p>获取系统默认的文件分隔符：&emsp;<label style="color:#ff4e6a">File.separator</label><br>System.out.println(“D:”+File.separator+”Test.txt”);</p>
</blockquote>
<p><strong><label style="color:#ff4e6a">常用方法：</label></strong><br><strong>(1).获取方法：</strong></p>
<ul>
<li>public String &emsp;<label style="color:#ff4e6a">getAbsolutePath()</label><br>获取绝对路径</li>
</ul>
<ul>
<li>public String &emsp;<label style="color:#ff4e6a">getPath()</label><br>获取路径(用什么方式创建的对象,就返回什么方式的路径(绝对路径/相对路径))</li>
</ul>
<ul>
<li>public String &emsp;<label style="color:#ff4e6a">getName()</label><br>获取文件/文件夹的名称</li>
</ul>
<ul>
<li>public String &emsp;<label style="color:#ff4e6a">getParent()</label><br>返回所在文件夹路径(根据创建对象时是否为绝对路径/相对路径)</li>
</ul>
<ul>
<li>long &emsp;<label style="color:#ff4e6a">lastModified()</label><br>返回文件的抽象路径名表示上次修改时间。（时间戳 毫秒）</li>
</ul>
<ul>
<li>long &emsp;<label style="color:#ff4e6a">length()</label><br>返回文件的抽象路径名表示的大小</li>
</ul>
<p><strong>(2).创建与删除</strong></p>
<ul>
<li>public boolean &emsp;<label style="color:#ff4e6a">createNewFile() throws IOException</label><br>创建文件</li>
</ul>
<p>&emsp;&emsp;<strong>在创建文件时,如果文件所在的文件夹不存在,则报错系统找不到指定的路径.创建文件时,必须确保文件夹已经存在</strong></p>
<ul>
<li>public boolean &emsp;<label style="color:#ff4e6a">mkdir()</label><br>使用mkdir方法创建文件夹时,必须保证其所在文件夹已经存在,否则创建失败(不会报错)</li>
</ul>
<ul>
<li>public boolean &emsp;<label style="color:#ff4e6a">mkdirs()</label><br>一次性创建多级目录</li>
</ul>
<ul>
<li>public boolean &emsp;<label style="color:#ff4e6a">delete()</label><br>删除文件夹必须为空（未存储东西）,否则删除失败</li>
</ul>
<p><strong>(3).判断</strong></p>
<ul>
<li>public boolean &emsp;<label style="color:#ff4e6a">exists()</label><br>文件或者文件夹是否存在</li>
</ul>
<ul>
<li>public boolean &emsp;<label style="color:#ff4e6a">isDirectory()</label><br>判断文件对象是否为文件夹</li>
</ul>
<ul>
<li>public boolean &emsp;<label style="color:#ff4e6a">isFile()</label><br>判断文件对象是否为文件</li>
</ul>
<p><strong>(4).获取目录下的结构(必须是目录对象调用)</strong></p>
<ul>
<li>public File[] &emsp;<label style="color:#ff4e6a">listFiles()</label><br>获取调用方法文件夹下的所有file对象(文件或文件夹)</li>
</ul>
<ul>
<li>public String[] &emsp;<label style="color:#ff4e6a">list()</label><br>返回的字符串在该目录下的抽象路径名的文件和目录命名为数组</li>
</ul>
<pre><code class="java">package com.greedring;

import java.io.File;
import java.io.IOException;
import java.util.Date;

public class Test {
    public static void main(String[] args) {
        File file01 = new File(&quot;Test.txt&quot;);
        System.out.println(file01.getAbsolutePath());
        System.out.println(file01.getPath());
        System.out.println(file01.getName());
        System.out.println(file01.getParent());
        System.out.println(new Date(file01.lastModified()));
        System.out.println(file01.length());

        System.out.println(&quot;====================&quot;);

        File file02 = new File(&quot;D:\\Test\\Test1.txt&quot;);
        System.out.println(file02.getAbsolutePath());
        System.out.println(file02.getPath());
        System.out.println(file02.getName());
        System.out.println(file02.getParent());
        System.out.println(new Date(file02.lastModified()));
        System.out.println(file02.length());

        System.out.println(&quot;=====创建与删除=====&quot;);

        //创建文件,保证文件所在的文件夹必须存在（否则抛出IOException）
        File file03 = new File(&quot;D:\\Test\\Test2.txt&quot;);
        try {
            //创建文件
            boolean createNewFile = file03.createNewFile();
            System.out.println(createNewFile);
        } catch (IOException e) {
            e.printStackTrace();
        }

        System.out.println(&quot;====================&quot;);

        File file04 = new File(&quot;D:\\Test\\Test01&quot;);
        //创建目录,前提需要创建的目录所在的目录必须存在
        boolean mkdir = file04.mkdir();
        System.out.println(mkdir);

        System.out.println(&quot;====================&quot;);

        File file05 = new File(&quot;D:\\Test\\Test02\\Test&quot;);
        //创建目录,如果需要创建的目录所在的目录不存在，也会默认创建
        boolean mkdirs = file05.mkdirs();
        System.out.println(mkdirs);

        System.out.println(&quot;====================&quot;);

        File file06 = new File(&quot;D:\\Test\\Test2.txt&quot;);
        //删除文件
        boolean delete = file06.delete();
        System.out.println(delete);

        System.out.println(&quot;====================&quot;);

        File file07 = new File(&quot;D:\\Test\\Test02\\Test&quot;);
        //删除目录，若当前目录不为空，则删除失败（处理：递归）
        boolean delete2 = file07.delete();
        System.out.println(delete2);

        /*
        //递归演示
        //求N阶乘
        private static int factorial(int i) {
            if (i == 1) {
                return 1;
            } else {
                return i * factorial(i - 1);
            }
        }

        //打印一个文件夹内所有的文件路径
        private static void printFile(File file) {
            if (file.isFile()) {
                System.out.println(file.getName());
            } else if (file.isDirectory()) {
                System.out.println(&quot;Dir:&quot; + file.getName());

                //获取目录下的子文件对象
                File[] listFiles = file.listFiles();
                for (File f : listFiles) {
                    printFile(f);
                }
            }
        }

        //删除一个文件夹（包含其中所有目录与文件）
        private static void deleteFile(File file) {
            if (file.isFile()) {
                file.delete();
            } else if (file.isDirectory()) {

                //获取目录下的子文件对象
                File[] listFiles = file.listFiles();
                for (File f : listFiles) {
                    deleteFile(f);
                }

                //删除目录本身
                file.delete();
            }
        }
        */

        System.out.println(&quot;======判断操作======&quot;);

        File file08 = new File(&quot;D:\\Test\\Test2.txt&quot;);
        File file09 = new File(&quot;D:\\Test\\Test02\\Test&quot;);
        System.out.println(file08.exists());
        System.out.println(file09.exists());

        System.out.println(&quot;====================&quot;);

        //判断是否是文件
        System.out.println(file03.isFile());//因为被删除所以输出false
        System.out.println(file04.isFile());

        System.out.println(&quot;====================&quot;);

        //判断是否是文件夹
        System.out.println(file03.isDirectory());
        System.out.println(file04.isDirectory());

        System.out.println(&quot;====================&quot;);

        File file10 = new File(&quot;D:\\Test&quot;);
        String[] list = file10.list();//获取当前目录下的文件名以及文件夹名
        for (String string : list) {
            System.out.print(string + &quot;\t&quot;);
        }

        System.out.println();

        File[] listFiles = file10.listFiles();//获取当前目录下的文件对象
        for (File file : listFiles) {
            //文件名--是否是文件夹--是否是文件
            System.out.println(file.getName() + &quot;--&quot; + file.isDirectory() + &quot;--&quot; + file.isFile());
        }
    }
}</code></pre>
<h2 id="IO体系"><a href="#IO体系" class="headerlink" title="IO体系"></a>IO体系</h2><p>&emsp;<strong>IO流基本划分：</strong></p>
<ul>
<li>1.按照操作的数据类型：字节流、字符流</li>
<li>2.按照流的流向：输入流、输出流</li>
<li>3.按照流的角色：节点流、处理流</li>
</ul>
<table>
<thead>
<tr>
<th align="left"><label style="color:#ff4e6a">抽象对象</label></th>
<th align="left"><label style="color:#ff4e6a">节点流（文件流）</label></th>
<th align="left"><label style="color:#ff4e6a">缓冲流（属于处理流的一种）</label></th>
</tr>
</thead>
<tbody><tr>
<td align="left">InputStream（字节）</td>
<td align="left">FileInputStream (read()、read(byte[] bbuf))</td>
<td align="left">BufferedInputStream</td>
</tr>
<tr>
<td align="left">OutputStream</td>
<td align="left">FileOutPutStream (write(byte[] bbuf)、write(byte[] bbuf,int offset,int len))</td>
<td align="left">BufferedOutputStream</td>
</tr>
<tr>
<td align="left">Reader（字符）</td>
<td align="left">FileReader (read()、read(char[] cbuf))</td>
<td align="left">BufferedReader</td>
</tr>
<tr>
<td align="left">Writer</td>
<td align="left">FileWriter (write(char[] cbuf,int offset,int len)、write(String str))</td>
<td align="left">BufferedWriter</td>
</tr>
</tbody></table>
<p><strong>1.字符流</strong><br>(1).字符文件流<br>(i).字符文件输入流 FileReader<br>需求：需要读取文件中字符内容</p>
<p><strong>方法</strong></p>
<ul>
<li>int &emsp;<label style="color:#ff4e6a">read()</label><br>读取单个字符 [返回值为读取的单个字符的ascii，如果返回-1代表到达流的末尾]</li>
</ul>
<ul>
<li>int &emsp;<label style="color:#ff4e6a">read(char[] cbuf)</label><br>将字符读入一个数组 [返回值代表读取的字符数量，如果返回-1代表到达流的末尾]</li>
</ul>
<ul>
<li>abstract int &emsp;<label style="color:#ff4e6a">read(char[] cbuf, int off, int len)</label><br>将字符读入一个数组的一部分</li>
</ul>
<pre><code class="java">package com.greedring;

import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.File;
import java.io.IOException;

public class Test {
    public static void main(String[] args) {
        FileReader reader = null;
        //创建文件对象
        File file = new File(&quot;D:\\Test\\Test.txt&quot;);
        try {
            // 2.创建字符（文件）输入流对象
            reader = new FileReader(file);
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        }

        //方法一：逐个字符进行读取
        /*
        try {
            //断言，避免空指针
            assert reader != null;
            //read() 读取单个字符 ascii
            int read = reader.read();
            while (read != -1) {
                System.out.print((char) read);
                read = reader.read();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        */

        //对方法一进行优化
        /*
        try {
            int read;
            while ((read = reader.read()) != -1) {
                System.out.print((char) read);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        */

        // 方式二
        // 定义读取字符的数组
        char[] cbuf = new char[5];
        int len = -1;
        while ((len = reader.read(cbuf)) != -1) {
            // System.out.println(len);
            for (int i = 0; i &lt; len; i++) {
                System.out.print(cbuf[i]);
            }
        }
        System.out.println();
    } catch (Exception e) {
        e.printStackTrace();
    } finally {

        // 4.关闭资源（流对象不会自动关闭，也不会被垃圾回收机制回收） 流对象使用完毕之后需要手动进行关闭
        if (reader != null) {
            try {
                reader.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
}</code></pre>
<p>(ii).字符文件输出流 FileWriter<br>需求：将内存中数据写入磁盘中</p>
<p>注意：<br>对于文本文件（.txt .java .c .cpp…）可以使用字符流传输<br>对于非文本文件（.png .avi .jpg .word…）必须使用字节流传输</p>
<p><strong>2.字节流</strong><br>(1).文件字节流<br>(i).字节输入流<br>FileInputStream</p>
<p>(ii).字节输出流<br>FileOutputStream</p>

  </article>
  
    
<div class="nexmoe-post-copyright">
<i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
<strong>本文作者：</strong>GreedRing<br>
<strong>本文链接：</strong><a href="http://greedring.com/2019/09/17/JavaBasics20/" title="http://greedring.com/2019/09/17/JavaBasics20/" target="_blank" rel="noopener">http://greedring.com/2019/09/17/JavaBasics20/</a><br>

  <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可

</div>


  
  <section class="nexmoe-comment">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '192a24997642e3747506',
        clientSecret: '54617c6a7809ea7b74d1d9d215e1b31a734c25ff',
        id: window.location.pathname,
        repo: 'greedring.github.io',
        owner: 'GreedRing',
        admin: 'GreedRing'
    })
    gitalk.render('gitalk')
</script>
</section>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/js/app.js?v=1568886473442"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>

  





</body>

</html>
